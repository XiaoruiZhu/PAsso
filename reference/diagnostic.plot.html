<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Residual-based diagnostic plots — diagnostic.plot • PAsso</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Residual-based diagnostic plots — diagnostic.plot"><meta name="description" content="A set of visualization tools for the diagnostic of the fitted model in
the partial association analysis. It can provides a plot matrix including Q-Q plots,
residual-vs-fitted plots, residual-vs-covariate plots of all the fitted models.
This function also support the direct diagnostic of the cumulative link regression model
in the class of clm, glm, lrm,
orm, polr. Currently, vglm
is not supported."><meta property="og:description" content="A set of visualization tools for the diagnostic of the fitted model in
the partial association analysis. It can provides a plot matrix including Q-Q plots,
residual-vs-fitted plots, residual-vs-covariate plots of all the fitted models.
This function also support the direct diagnostic of the cumulative link regression model
in the class of clm, glm, lrm,
orm, polr. Currently, vglm
is not supported."><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-4EL8ES18RT"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4EL8ES18RT');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PAsso</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.11</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/XiaoruiZhu/PAsso/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Residual-based diagnostic plots</h1>
      <small class="dont-index">Source: <a href="https://github.com/XiaoruiZhu/PAsso/blob/master/R/diagnostic.plot.R" class="external-link"><code>R/diagnostic.plot.R</code></a></small>
      <div class="d-none name"><code>diagnostic.plot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A set of visualization tools for the diagnostic of the fitted model in
the partial association analysis. It can provides a plot matrix including Q-Q plots,
residual-vs-fitted plots, residual-vs-covariate plots of all the fitted models.
This function also support the direct diagnostic of the cumulative link regression model
in the class of <code><a href="https://rdrr.io/pkg/ordinal/man/clm.html" class="external-link">clm</a></code>, <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></code>, <code><a href="https://rdrr.io/pkg/rms/man/lrm.html" class="external-link">lrm</a></code>,
<code><a href="https://rdrr.io/pkg/rms/man/orm.html" class="external-link">orm</a></code>, <code><a href="https://rdrr.io/pkg/MASS/man/polr.html" class="external-link">polr</a></code>. Currently, <code><a href="https://rdrr.io/pkg/VGAM/man/vglm.html" class="external-link">vglm</a></code>
is not supported.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">diagnostic.plot</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">diagnostic.plot</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'resid'</span></span>
<span><span class="fu">diagnostic.plot</span><span class="op">(</span><span class="va">object</span>, output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qq"</span>, <span class="st">"fitted"</span>, <span class="st">"covariate"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'PAsso'</span></span>
<span><span class="fu">diagnostic.plot</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qq"</span>, <span class="st">"fitted"</span>, <span class="st">"covariate"</span><span class="op">)</span>,</span>
<span>  model_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'glm'</span></span>
<span><span class="fu">diagnostic.plot</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qq"</span>, <span class="st">"fitted"</span>, <span class="st">"covariate"</span><span class="op">)</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  distribution <span class="op">=</span> <span class="va">qnorm</span>,</span>
<span>  ncol <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  xlab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  color <span class="op">=</span> <span class="st">"#444444"</span>,</span>
<span>  shape <span class="op">=</span> <span class="fl">19</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  qqpoint.color <span class="op">=</span> <span class="st">"#444444"</span>,</span>
<span>  qqpoint.shape <span class="op">=</span> <span class="fl">19</span>,</span>
<span>  qqpoint.size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  qqline.color <span class="op">=</span> <span class="st">"#888888"</span>,</span>
<span>  qqline.linetype <span class="op">=</span> <span class="st">"dashed"</span>,</span>
<span>  qqline.size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  smooth <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  smooth.color <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>  smooth.linetype <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  smooth.size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fill <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resp_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clm'</span></span>
<span><span class="fu">diagnostic.plot</span><span class="op">(</span><span class="va">object</span>, output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qq"</span>, <span class="st">"fitted"</span>, <span class="st">"covariate"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'lrm'</span></span>
<span><span class="fu">diagnostic.plot</span><span class="op">(</span><span class="va">object</span>, output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qq"</span>, <span class="st">"fitted"</span>, <span class="st">"covariate"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'orm'</span></span>
<span><span class="fu">diagnostic.plot</span><span class="op">(</span><span class="va">object</span>, output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qq"</span>, <span class="st">"fitted"</span>, <span class="st">"covariate"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'polr'</span></span>
<span><span class="fu">diagnostic.plot</span><span class="op">(</span><span class="va">object</span>, output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qq"</span>, <span class="st">"fitted"</span>, <span class="st">"covariate"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>The object in the support classes (This function is mainly designed
for <code>PAsso</code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional optional arguments can be passed onto <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></code> for drawing
various plots.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>A character string specifying what type of output to plot. Default is
<code>"qq"</code> which produces a plot matrix with quantile-quantile plots of the residuals.
<code>"fitted"</code> produces a plot matrix between residuals and all corresponding fitted responses.
<code>"covariates"</code> produces a plot matrix between residuals and corresponding covariate.</p></dd>


<dt id="arg-model-id">model_id<a class="anchor" aria-label="anchor" href="#arg-model-id"></a></dt>
<dd><p>A number refers to the index of the model that needs to be diagnosed. If NULL, all
models will be diagnosed.</p></dd>


<dt id="arg-x-name">x_name<a class="anchor" aria-label="anchor" href="#arg-x-name"></a></dt>
<dd><p>A string refers to the covariate name that needs to be diagnosed. If NULL, all adjustments
will be diagnosed.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A vector giving the covariate values to use for residual-by-
covariate plots (i.e., when <code>output = "covariate"</code>).</p></dd>


<dt id="arg-fit">fit<a class="anchor" aria-label="anchor" href="#arg-fit"></a></dt>
<dd><p>The fitted model from which the residuals were extracted. (Only
required if <code>output = "fitted"</code> and <code>object</code> inherits from class
<code>"resid"</code>.)</p></dd>


<dt id="arg-distribution">distribution<a class="anchor" aria-label="anchor" href="#arg-distribution"></a></dt>
<dd><p>Function that computes the quantiles for the reference
distribution to use in the quantile-quantile plot. Default is <code>qnorm</code>
which is only appropriate for models using a probit link function.
When <code>type = "surrogate"</code>, <code>jitter = "latent"</code>, search the reference
distribution using getQuantileFunction(object) to find distribution. When
<code>jitter = "uniform"</code> and <code>jitter.uniform.scale = "probability"</code>,
the reference distribution is always U(-0.5, 0.5). When
<code>jitter = "uniform"</code> and <code>jitter.uniform.scale = "response"</code>,
cannot draw the QQ plot. (Only
required if <code>object</code> inherits from class <code>"resid"</code>.)</p></dd>


<dt id="arg-ncol">ncol<a class="anchor" aria-label="anchor" href="#arg-ncol"></a></dt>
<dd><p>Integer specifying the number of columns to use for the plot
layout (if requesting multiple plots). Default is <code>NULL</code>.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>A single values in the interval [0, 1] controlling the opacity
alpha of the plotted points. Only used when <code>nsim</code> &gt; 1.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>Character string giving the text to use for the x-axis label in
residual-by-covariate plots. Default is <code>NULL</code>.</p></dd>


<dt id="arg-color">color<a class="anchor" aria-label="anchor" href="#arg-color"></a></dt>
<dd><p>Character string or integer specifying what color to use for the
points in the residual vs fitted value/covariate plot.
Default is <code>"black"</code>.</p></dd>


<dt id="arg-shape">shape<a class="anchor" aria-label="anchor" href="#arg-shape"></a></dt>
<dd><p>Integer or single character specifying a symbol to be used for
plotting the points in the residual vs fitted value/covariate plot.</p></dd>


<dt id="arg-size">size<a class="anchor" aria-label="anchor" href="#arg-size"></a></dt>
<dd><p>Numeric value specifying the size to use for the points in the
residual vs fitted value/covariate plot.</p></dd>


<dt id="arg-qqpoint-color">qqpoint.color<a class="anchor" aria-label="anchor" href="#arg-qqpoint-color"></a></dt>
<dd><p>Character string or integer specifying what color to use
for the points in the quantile-quantile plot.</p></dd>


<dt id="arg-qqpoint-shape">qqpoint.shape<a class="anchor" aria-label="anchor" href="#arg-qqpoint-shape"></a></dt>
<dd><p>Integer or single character specifying a symbol to be
used for plotting the points in the quantile-quantile plot.</p></dd>


<dt id="arg-qqpoint-size">qqpoint.size<a class="anchor" aria-label="anchor" href="#arg-qqpoint-size"></a></dt>
<dd><p>Numeric value specifying the size to use for the points
in the quantile-quantile plot.</p></dd>


<dt id="arg-qqline-color">qqline.color<a class="anchor" aria-label="anchor" href="#arg-qqline-color"></a></dt>
<dd><p>Character string or integer specifying what color to use
for the points in the quantile-quantile plot.</p></dd>


<dt id="arg-qqline-linetype">qqline.linetype<a class="anchor" aria-label="anchor" href="#arg-qqline-linetype"></a></dt>
<dd><p>Integer or character string (e.g., <code>"dashed"</code>)
specifying the type of line to use in the quantile-quantile plot.</p></dd>


<dt id="arg-qqline-size">qqline.size<a class="anchor" aria-label="anchor" href="#arg-qqline-size"></a></dt>
<dd><p>Numeric value specifying the thickness of the line in the
quantile-quantile plot.</p></dd>


<dt id="arg-smooth">smooth<a class="anchor" aria-label="anchor" href="#arg-smooth"></a></dt>
<dd><p>Logical indicating whether or not too add a nonparametric
smooth to certain plots. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-smooth-color">smooth.color<a class="anchor" aria-label="anchor" href="#arg-smooth-color"></a></dt>
<dd><p>Character string or integer specifying what color to use
for the nonparametric smooth.</p></dd>


<dt id="arg-smooth-linetype">smooth.linetype<a class="anchor" aria-label="anchor" href="#arg-smooth-linetype"></a></dt>
<dd><p>Integer or character string (e.g., <code>"dashed"</code>)
specifying the type of line to use for the nonparametric smooth.</p></dd>


<dt id="arg-smooth-size">smooth.size<a class="anchor" aria-label="anchor" href="#arg-smooth-size"></a></dt>
<dd><p>Numeric value specifying the thickness of the line for the
nonparametric smooth.</p></dd>


<dt id="arg-fill">fill<a class="anchor" aria-label="anchor" href="#arg-fill"></a></dt>
<dd><p>Character string or integer specifying the color to use to fill
the boxplots for residual-by-covariate plots when <code>x</code> is of class
<code>"factor"</code>. Default is <code>NULL</code> which colors the boxplots according
to the factor levels.</p></dd>


<dt id="arg-resp-name">resp_name<a class="anchor" aria-label="anchor" href="#arg-resp-name"></a></dt>
<dd><p>Character string to specify the response name that will be
displayed in the figure.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>"ggplot"</code> object for supported models. For class "PAsso", it returns a plot in
<code>"gtable"</code> object that combines diagnostic plots of all responses.</p>
<p>A "ggplot" object based on the input residuals.</p>
<p>A "ggplot" object based on the input residuals.</p>
<p>A plot in "gtable" object that combines diagnostic plots of all responses.</p>
<p>A "ggplot" object based on the residuals generated from glm object.</p>
<p>A "ggplot" object based on the residuals generated from clm object.</p>
<p>A "ggplot" object based on the residuals generated from lrm object.</p>
<p>A "ggplot" object based on the residuals generated from orm object.</p>
<p>A "ggplot" object based on the residuals generated from polr object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Import data for partial association analysis</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ANES2016"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ANES2016</span><span class="op">$</span><span class="va">PreVote.num</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">ANES2016</span><span class="op">$</span><span class="va">PreVote.num</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">PAsso_3v</span> <span class="op">&lt;-</span> <span class="fu"><a href="PAsso.html">PAsso</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  responses <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PreVote.num"</span>, <span class="st">"PID"</span>, <span class="st">"selfLR"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  adjustments <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"income.num"</span>, <span class="st">"age"</span>, <span class="st">"edu.year"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ANES2016</span>, uni.model <span class="op">=</span> <span class="st">"probit"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kendall"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  resids.type <span class="op">=</span> <span class="st">"surrogate"</span>, jitter <span class="op">=</span> <span class="st">"latent"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">diag_p1</span> <span class="op">&lt;-</span> <span class="fu">diagnostic.plot</span><span class="op">(</span>object <span class="op">=</span> <span class="va">PAsso_3v</span>, output <span class="op">=</span> <span class="st">"qq"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="diagnostic.plot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="va">diag_p2</span> <span class="op">&lt;-</span> <span class="fu">diagnostic.plot</span><span class="op">(</span>object <span class="op">=</span> <span class="va">PAsso_3v</span>, output <span class="op">=</span> <span class="st">"fitted"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="diagnostic.plot-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="va">diag_p3</span> <span class="op">&lt;-</span> <span class="fu">diagnostic.plot</span><span class="op">(</span>object <span class="op">=</span> <span class="va">PAsso_3v</span>, output <span class="op">=</span> <span class="st">"covariate"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No covariate is specified, the first covariate(adjustment) is being used.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Failed to fit group -1.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Caused by error in `smooth.construct.cr.smooth.spec()`:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> x has insufficient unique values to support 10 knots: reduce k.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Failed to fit group -1.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Caused by error in `smooth.construct.cr.smooth.spec()`:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> x has insufficient unique values to support 10 knots: reduce k.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Failed to fit group -1.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Caused by error in `smooth.construct.cr.smooth.spec()`:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> x has insufficient unique values to support 10 knots: reduce k.</span>
<span class="r-plt img"><img src="diagnostic.plot-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simply diagnose a model</span></span></span>
<span class="r-in"><span><span class="co"># Fit cumulative link models</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu">ordinal</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ordinal/man/clm.html" class="external-link">clm</a></span><span class="op">(</span><span class="va">PreVote.num</span> <span class="op">~</span> <span class="va">income.num</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">edu.year</span>, data <span class="op">=</span> <span class="va">ANES2016</span>, link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># diagnostic.plot</span></span></span>
<span class="r-in"><span><span class="va">plot_qq_1</span> <span class="op">&lt;-</span> <span class="fu">diagnostic.plot</span><span class="op">(</span>object <span class="op">=</span> <span class="va">fit1</span>, output <span class="op">=</span> <span class="st">"qq"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plot_fit_1</span> <span class="op">&lt;-</span> <span class="fu">diagnostic.plot</span><span class="op">(</span>object <span class="op">=</span> <span class="va">fit1</span>, output <span class="op">=</span> <span class="st">"fitted"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plot_cov_1</span> <span class="op">&lt;-</span> <span class="fu">diagnostic.plot</span><span class="op">(</span>object <span class="op">=</span> <span class="va">fit1</span>, output <span class="op">=</span> <span class="st">"covariate"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No covariate `x` is specified, extract the first covariate from `fit`.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Xiaorui (Jeremy) Zhu, Shaobo Li, Dungang Liu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

